<!DOCTYPE html>
<html>
<head>
<title>Worker Efficiency Dashboard</title>
<link rel="stylesheet" href="/static/styles.css">
<script>
    function calculateEfficiency() {
    const rows = document.querySelectorAll("#task-table-body tr");
    const efficiencies = [];
    rows.forEach(row => {
        const timeTaken = parseFloat(row.cells[1].innerText);
        const difficulty = parseFloat(row.cells[2].innerText);
        const efficiency = timeTaken / difficulty;
        row.cells[3].innerText = efficiency.toFixed(2);
        efficiencies.push(efficiency)
    });
    alert("The efficiencies are: " + efficiencies.join(", "));
}
</script>
</head>
<body>
<h1>Task Dashboard</h1>
<table>
    <thead>
        <tr>
            <th> Task Name</th>
            <th> Time Taken</th>
            <th> Difficulty</th>
        </tr>
    </thead>
    <tbody>
        {% for task in tasks %}
        <tr>
            <td>{{ task.name }}</td>
            <td>{{ task.time_taken }}</td>
            <td>{{ task.difficulty }}</td>
        </tr>
        {% endfor %}
    </tbody>
</table>
<button onclick="calculateEfficiency()">Calculate Efficiency</button>
</body>
</html>
